language: rust

cache: cargo
services:
  - docker

before_install:
- docker build -t jsenon/sample-actix-server .
- echo "$DOCKER_PASSWORD" | docker login -u "$DOCKER_USERNAME" --password-stdin
- docker push jsenon/sample-actix-server:latest
rust:
  - stable
  - beta
  - nightly
matrix:
  allow_failures:
    - rust: nightly
  fast_finish: true